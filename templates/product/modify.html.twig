{% extends 'base.html.twig' %}

{% block body %}
	<table class="table table-dark mt-3">
		<thead>
			<tr>
				<th scope="col">ID</th>
				<th scope="col">Titulo</th>
				<th scope="col">Descripcion</th>
				<th scope="col">Precio</th>
				<th scope="col">Categoria</th>
			</tr>
		</thead>
		<tbody>
			{% for value in dataproductforrender %}
				<tr id="product{{value.idproduct}}">
					<form method="POST" action="/product/modify">
						<th scope="row"><input name="idproductmodify" type="number" class="form-control" value="{{value.idproduct}}" readonly></th>
						<td><input name="titulo" type="text" class="form-control" value="{{value.titulo}}"></td>
						<td><input name="descripcion" type="text" class="form-control" value="{{value.descripcion}}"></td>
						<td><input name="precio" type="text" class="form-control" value="{{value.precio}}"></td>
						<td>
							<select name="idcategoria" class="custom-select" id="inputGroupSelect01">
								<option value="{{value.idcategoria.idcategoria}}">{{value.idcategoria.nombrecategoria}}</option>
								{# Este ciclo ford quiza de problemas y tengo qe utilizar el otro?? #}
								{% for item in categorias %}
									<option value="{{item.idcategoria}}">{{item.nombrecategoria}}</option>
								{% endfor %}
							</select>
						</td>
						<td>
							<button data-idproduct="{{value.idproduct}}" type="button" class="btn btn-primary botonimagenes" data-toggle="modal" data-target="#ModalScrollable">
								Imagenes
							</button>
						</td>
						<td>
							<button type="submit" class="btn btn-success">Actualizar</button>
						</td>
						<td>
							<button data-idproduct="{{value.idproduct}}" type="button" class="btn btn-danger deleteproduct" data-toggle="modal" data-target="#ModalScrollable">
								Borrar
							</button>
						</td>
					</form>
				</tr>
			{% endfor %}
		</tbody>
	</table>

	{% if showmodal is not empty %}
		<div id="myModal" class="modal" tabindex="-1" role="dialog">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title">Aviso Accion</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<p>{{showmodal}}</p>
					</div>
				</div>
			</div>
		</div>
	{% endif %}
	<!-- Button trigger modal -->

	<!-- Modal -->

	<div class="modal fade" id="ModalScrollable" tabindex="-1" role="dialog" aria-labelledby="ModalScrollableTitle" aria-hidden="true">
		<div class="modal-dialog modal-dialog-scrollable" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="ModalScrollableTitle">Imagenes</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body"><!-- Aca quiero qe me muestre las fotos correspondientes al product  -->
					<!--  qe llama al modal en cada caso -->
					<!-- Append con jquery -->

				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
					<button type="button" class="btn btn-primary submitmodal" data-dismiss="modal">Save changes</button>
				</div>
			</div>
		</div>
	</div>
{% endblock %}

{% block javascripts %}
	<script src="../js/jsmodalimagenesmodify.js" type="text/javascript"></script>
{% endblock %}
